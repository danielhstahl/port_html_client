(this.webpackJsonpportclient=this.webpackJsonpportclient||[]).push([[0],{360:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var s,r,i=a(8),l=a(0),c=a(23),o=a.n(c),n=a(362),b=a(73),d=a(103),u=a(28),j=a(62),O=a(5),m=a(100),p=a(365),h=a(366),P=a(364),x=a(368),v=a(36),g=a(367),y={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},A={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},f={width:500},w=(e,t,a="Submit")=>e||t?e?"Success!":"Failure!":a,M=m.a.Option,T=p.a.Item,D=(e,t)=>{var a=t.match(/((19|20)\d\d)-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])/),s=e.toString().match(/^[-+]?\d+$/);return a&&s},E=((...e)=>t=>class extends l.Component{componentDidMount(){Promise.all(e.map((e=>e(this.props))))}render(){return Object(i.jsx)(t,Object(O.a)({},this.props))}})((({loadMaterials:e})=>e()),(({loadPorts:e})=>e()))((({receivePort:e,selectReceivePort:t,possiblePorts:a,material:s,selectMaterial:r,possibleMaterials:c,materialAmount:o,selectMaterialAmount:n,providePort:b,selectProvidePort:d,comments:u,selectComments:j,transactionDate:p,selectTransactionDate:E,submit:S,toggleWarningModal:_,showWarningModal:C,loading:R,success:I,failure:k})=>{var N=S({receivePort:e,material:s,materialAmount:o,comments:u,transactionDate:p,providePort:b});return[Object(l.createElement)(T,Object(O.a)(Object(O.a)({label:"Port that will receive materials"},y),{},{key:"receivePort"}),Object(i.jsx)(m.a,{value:e,onChange:t,style:f,children:a.map((e=>Object(i.jsx)(M,{value:e,children:e},e)))})),Object(i.jsx)(T,Object(O.a)(Object(O.a)({label:"Select material"},y),{},{children:Object(i.jsx)(m.a,{value:s,onChange:r,style:f,children:c.map((e=>Object(i.jsx)(M,{value:e,children:e},e)))})}),"materal"),Object(i.jsx)(T,Object(O.a)(Object(O.a)({label:"Number of Materials (integers only)"},y),{},{children:Object(i.jsx)(h.a,{value:o,onChange:n,style:f})}),"materialnum"),Object(i.jsx)(T,Object(O.a)(Object(O.a)({label:"Date of Transaction (yyyy-mm-dd)"},y),{},{children:Object(i.jsx)(P.a,{onChange:E,style:f})}),"tdate"),Object(i.jsx)(T,Object(O.a)(Object(O.a)({label:"Port that will provide materials (not required)"},y),{},{children:Object(i.jsx)(m.a,{value:b,onChange:d,style:f,children:a.map((e=>Object(i.jsx)(M,{value:e,children:e},e)))})}),"pport"),Object(i.jsx)(T,Object(O.a)(Object(O.a)({label:"Optional Comments"},y),{},{children:Object(i.jsx)(x.a.TextArea,{rows:4,value:u,onChange:j,style:f})}),"comments"),Object(i.jsx)(T,Object(O.a)(Object(O.a)({},A),{},{children:Object(i.jsx)(v.a,{type:"primary",loading:R.status,disabled:!D(o,p),onClick:b?N:_,children:w(I.status,k.status)})}),"submitbutton"),Object(i.jsx)(g.a,{title:"",visible:C,onOk:()=>{N(),_()},onCancel:_,okText:"Ok.  I only want one port.",cancelText:"Not Ok!  Let me go back and edit.",children:"Warning: no second port selected.  Is this ok?"},"modalWarning")]})),S="UPDATE_RECEIVE_PORT",_="UPDATE_PROVIDE_PORT",C="UPDATE_POSSIBLE_PORTS",R="UPDATE_POSSIBLE_MATERIALS",I="UPDATE_MATERIAL",k="UPDATE_MATERIAL_AMOUNT",N="UPDATE_COMMENTS",U="POPULATE_POSSIBLE_PORTS",L="UPDATE_TRANSACTION_DATE",W="TOGGLE_MODAL",B="AXIOS_FAILURE",J="AXIOS_SUCCESS",V="AXIOS_LOADING",F="POPULATE_POSSIBLE_MATERIALS",G="UPDATE_NEW_PORT",H="UPDATE_NEW_MATERIAL",X="UPDATE_REPORT_DATE",$="UPDATE_REPORT_DATA",q=e=>t=>a=>t({type:e,value:a}),z=e=>t=>(a,s)=>t({type:e,value:s}),K=e=>t=>a=>t({type:e,value:a.target.value}),Q=(e,t)=>a=>a({type:V,value:{status:e,id:t}}),Y=e=>t=>{t(e),setTimeout((()=>{t(e)}),2e3)},Z=e=>Y((e=>({type:B,id:e}))(e)),ee=e=>Y((e=>({type:J,id:e}))(e)),te=q(S),ae=q(I),se=q(k),re=q(_),ie=K(N),le=z(L),ce=e=>()=>e({type:W}),oe=(e,t)=>a=>()=>{fetch(e,{method:"POST"}).then((e=>e.json())).then((e=>{e&&a({type:t,value:e})}))},ne=oe("/getMaterials",F),be=oe("/getPorts",U),de=e=>({receivePort:t,material:a,materialAmount:s,comments:r,transactionDate:i,providePort:l})=>()=>{Q(!0)(e);var c={firstPort:{Port:t,Material:a,Date:i,Amount:s,Comment:r}},o=l?Object(O.a)(Object(O.a)({},c),{},{secondPort:Object(O.a)(Object(O.a)({},c.firstPort),{},{Port:l,Amount:-s})}):c;fetch("/writeTransaction",{method:"POST",body:JSON.stringify(o)}).then((()=>{ee("submission")(e)})).catch((t=>{Z("submission")(e)})).finally((()=>{Q(!1)(e)}))},ue=Object(j.b)((e=>({receivePort:e.submission.receivePort,possiblePorts:e.submission.possiblePorts,material:e.submission.material,possibleMaterials:e.submission.possibleMaterials,materialAmount:e.submission.materialAmount,providePort:e.submission.providePort,comments:e.submission.comments,showWarningModal:e.submission.showWarningModal,loading:e.axios.loading,success:e.axios.success,failure:e.axios.failure,transactionDate:e.submission.transactionDate})),(e=>({selectReceivePort:te(e),selectMaterial:ae(e),selectMaterialAmount:se(e),selectProvidePort:re(e),selectComments:ie(e),selectTransactionDate:le(e),toggleWarningModal:ce(e),submit:de(e),loadMaterials:ne(e),loadPorts:be(e)})))(E),je="Port",Oe="Material",me=p.a.Item,pe=(s=0,r=50,e=>e>s&&e<r),he=({val:e,updateVal:t,submit:a,trackAxios:s,title:r,loading:l,success:c,failure:o})=>{return Object(i.jsxs)(me,Object(O.a)(Object(O.a)({label:"".concat(r," (under 50 characters)")},y),{},{children:[Object(i.jsx)(x.a,{value:e,onChange:t,style:f}),Object(i.jsx)(v.a,{type:"primary",loading:s&&l.status,disabled:(n=e,!pe(n.length)),onClick:a,children:s?w(c.status,o.status):w(!1,!1)})]}));var n},Pe=({newPort:e,selectNewPort:t,newMaterial:a,selectNewMaterial:s,submitNewPort:r,submitNewMaterial:l,loading:c,success:o,failure:n})=>[Object(i.jsx)(he,{title:"Add Port",val:e,updateVal:t,trackAxios:c.id===je,loading:c,success:o,failure:n,submit:r(e)},je),Object(i.jsx)(he,{title:"Add Material Type",val:a,updateVal:s,trackAxios:c.id===Oe,loading:c,success:o,failure:n,submit:l(a)},Oe)],xe=K(G),ve=K(H),ge=(e,t,a)=>s=>r=>()=>{Q(!0,a)(s),((e,t)=>a=>a({type:e,value:t}))(t,r)(s),fetch(e,{method:"POST",body:JSON.stringify({[a]:r})}).then((e=>e.json())).then((({data:e})=>{ee(a)(s)})).catch((()=>{Z(a)(s)})).finally((()=>{Q(!1,a)(s)}))},ye=ge("/writePort",C,je),Ae=ge("/writeMaterial",R,Oe),fe=Object(j.b)((e=>({newPort:e.additions.newPort,newMaterial:e.additions.newMaterial,loading:e.axios.loading,success:e.axios.success,failure:e.axios.failure})),(e=>({selectNewPort:xe(e),selectNewMaterial:ve(e),submitNewPort:ye(e),submitNewMaterial:Ae(e)})))(Pe),we=a(363),Me=p.a.Item,Te=[{title:"Port",dataIndex:"Port",key:"Port"},{title:"Amount",dataIndex:"Amount",key:"Amount"},{title:"Material",dataIndex:"Material",key:"Material"}],De="getReports",Ee="allData",Se="Download to CSV",_e=(e,t,a)=>e.id===a||t.id===a,Ce=(e,t,a)=>()=>Object(i.jsx)(v.a,{type:"primary",onClick:e(Ee),children:_e(t,a,Ee)?w(t.status,a.status,Se):w(!1,!1,Se)}),Re=({setReportDate:e,selectReportData:t,selectAllData:a,reportDate:s,loading:r,success:c,failure:o,data:n})=>{return[Object(l.createElement)(Me,Object(O.a)(Object(O.a)({label:"Select Reporting Date"},y),{},{key:De}),Object(i.jsx)(P.a,{onChange:e,style:f}),Object(i.jsx)(v.a,{type:"primary",loading:r.id===De&&r.status,disabled:(b=s,!(b.length>0)),onClick:t(De,s),children:_e(c,o,De)?w(c.status,o.status):w(!1,!1)})),Object(i.jsx)(we.a,{pagination:!1,title:Ce(a,c,o),dataSource:n,columns:Te},"displaytable")];var b},Ie=z(X),ke=e=>(t,a)=>()=>{Q(!0,t)(e),fetch("/getResults",{method:"POST",body:JSON.stringify({Date:a})}).then((e=>e.json())).then((t=>{e({type:$,value:t.map(((e,t)=>Object(O.a)({key:t},e)))})})).catch((()=>{Z(t)(e)})).finally((()=>{Q(!1,t)(e)}))},Ne=e=>t=>()=>{Q(!0,t)(e),fetch("/getAllResults",{method:"POST"}).then((e=>e.json())).then((e=>{((e,t)=>{var a=Object.keys(e[0]),s=e.map((e=>a.map((t=>JSON.stringify(e[t]||"").replace(/\\n/g,"").replace(/[|&;$%@"<>()+\\/"]/g,""))).join(",")));s.unshift(a.join(",")),s=s.join("\r\n");var r=new Blob([s],{type:"text/csv"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var i=window.URL.createObjectURL(r),l=document.createElement("a");l.href=i,l.setAttribute("download",t),l.setAttribute("target","_blank"),document.body.appendChild(l),l.click(),document.body.removeChild(l)}})(e,"results.csv")})).catch((()=>{Z(t)(e)})).finally((()=>{Q(!1,t)(e)}))},Ue=Object(j.b)((e=>({data:e.reports.data,reportDate:e.reports.reportDate,loading:e.axios.loading,success:e.axios.success,failure:e.axios.failure})),(e=>({setReportDate:Ie(e),selectReportData:ke(e),selectAllData:Ne(e)})))(Re),Le=n.a.Header,We=n.a.Content,Be=n.a.Footer,Je={lineHeight:"64px"},Ve={padding:"0 50px"},Fe={background:"#fff",padding:24,minHeight:280},Ge={textAlign:"center"},He="/enter_data",Xe="/add_options",$e="/results",qe=({location:e})=>Object(i.jsx)(Le,{children:Object(i.jsxs)(b.a,{theme:"dark",mode:"horizontal",selectedKeys:[e.pathname],style:Je,children:[Object(i.jsx)(b.a.Item,{children:Object(i.jsx)(d.b,{to:He,children:"Enter Data"})},He),Object(i.jsx)(b.a.Item,{children:Object(i.jsx)(d.b,{to:Xe,children:"Add Options"})},Xe),Object(i.jsx)(b.a.Item,{children:Object(i.jsx)(d.b,{to:$e,children:"Results"})},$e)]})}),ze=()=>Object(i.jsx)(d.a,{children:Object(i.jsxs)(n.a,{className:"layout",children:[Object(i.jsx)(u.b,{path:"/",component:qe}),Object(i.jsx)(We,{style:Ve,children:Object(i.jsx)("div",{style:Fe,children:Object(i.jsxs)(u.d,{children:[Object(i.jsx)(u.a,{exact:!0,to:He,from:"/"}),Object(i.jsx)(u.b,{path:He,component:ue}),Object(i.jsx)(u.b,{path:Xe,component:fe}),Object(i.jsx)(u.b,{path:$e,component:Ue})]})})}),Object(i.jsx)(Be,{style:Ge,children:"Port Client"})]})}),Ke=(a(360),a(78)),Qe={loading:{status:!1,id:""},success:{status:!1,id:""},failure:{status:!1,id:""}},Ye=(e,t,a)=>Object(O.a)(Object(O.a)({},e),{},{[t]:{status:!e[t].status,id:a}}),Ze={receivePort:"",possiblePorts:[],material:"",transactionDate:"",possibleMaterials:[],materialAmount:0,providePort:"",comments:"",showWarningModal:!1},et={newPort:"",newMaterial:""},tt={reportDate:"",data:[]},at=Object(Ke.b)({axios:(e=Qe,t)=>{switch(t.type){case B:return Ye(e,"failure",t.id);case J:return Ye(e,"success",t.id);case V:return Object(O.a)(Object(O.a)({},e),{},{loading:t.value});default:return e}},submission:(e=Ze,t)=>{switch(t.type){case S:return Object(O.a)(Object(O.a)({},e),{},{receivePort:t.value});case I:return Object(O.a)(Object(O.a)({},e),{},{material:t.value});case L:return Object(O.a)(Object(O.a)({},e),{},{transactionDate:t.value});case k:return Object(O.a)(Object(O.a)({},e),{},{materialAmount:t.value});case _:return Object(O.a)(Object(O.a)({},e),{},{providePort:t.value});case N:return Object(O.a)(Object(O.a)({},e),{},{comments:t.value});case C:return Object(O.a)(Object(O.a)({},e),{},{possiblePorts:[...e.possiblePorts,t.value]});case U:return Object(O.a)(Object(O.a)({},e),{},{possiblePorts:t.value});case R:return Object(O.a)(Object(O.a)({},e),{},{possibleMaterials:[...e.possibleMaterials,t.value]});case F:return Object(O.a)(Object(O.a)({},e),{},{possibleMaterials:t.value});case W:return Object(O.a)(Object(O.a)({},e),{},{showWarningModal:!e.showWarningModal});default:return e}},additions:(e=et,t)=>{switch(t.type){case G:return Object(O.a)(Object(O.a)({},e),{},{newPort:t.value});case H:return Object(O.a)(Object(O.a)({},e),{},{newMaterial:t.value});default:return e}},reports:(e=tt,t)=>{switch(t.type){case X:return Object(O.a)(Object(O.a)({},e),{},{reportDate:t.value});case $:return Object(O.a)(Object(O.a)({},e),{},{data:t.value});default:return e}}}),st=Object(Ke.c)(at);o.a.render(Object(i.jsx)(j.a,{store:st,children:Object(i.jsx)(ze,{})}),document.getElementById("root"))}},[[361,1,2]]]);
//# sourceMappingURL=main.1a475697.chunk.js.map